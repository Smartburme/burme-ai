<!DOCTYPE html><html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Burme Ai - Main Chat</title>
  <link rel="icon" href="assets/icon.jpg" />
  <style>
    body {
      margin: 0;
      background: #000;
      font-family: 'Segoe UI', sans-serif;
      display: flex;
      flex-direction: column;
      height: 100vh;
      color: #00ffff;
    }.title-bar {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 10px 15px;
  background: rgba(0, 0, 0, 0.9);
  box-shadow: 0 0 5px #00ffff55;
}

.title-text {
  flex-grow: 1;
  text-align: center;
  font-size: 18px;
  font-weight: bold;
}

.search-bar {
  display: flex;
  justify-content: center;
  gap: 10px;
  background: #111;
  padding: 10px;
}

.search-bar input {
  width: 40%;
  padding: 6px 10px;
  border-radius: 6px;
  border: none;
}

.search-bar select {
  padding: 6px;
  border-radius: 6px;
}

.chat-container {
  flex-grow: 1;
  position: relative;
  background: #111;
  display: flex;
  flex-direction: column;
  overflow-y: auto;
  padding: 10px;
}

.chat-message {
  background: rgba(0, 255, 255, 0.05);
  color: white;
  padding: 10px;
  border-radius: 10px;
  margin: 5px 0;
  max-width: 90%;
}

.chat-message.user {
  align-self: flex-end;
  background: rgba(0, 255, 255, 0.4);
}

.chat-message.bot {
  align-self: flex-start;
  border-left: 3px solid #00ffff66;
}

.chat-message.loading {
  font-style: italic;
  opacity: 0.7;
}

.input-bar {
  display: flex;
  flex-direction: column;
  background: #000;
  box-shadow: 0 -2px 5px #00ffff44;
  padding: 8px;
}

.input-row {
  display: flex;
  gap: 6px;
  margin-bottom: 6px;
}

.input-bar textarea {
  flex: 1;
  padding: 10px;
  border-radius: 10px;
  border: none;
  font-size: 14px;
  resize: none;
  background: #222;
  color: #00ffff;
}

.icon-button {
  font-size: 16px;
  background: #00ffff;
  color: black;
  border: none;
  border-radius: 8px;
  padding: 6px 10px;
  cursor: pointer;
  font-weight: bold;
  white-space: nowrap;
}

img.generated-image {
  max-width: 100%;
  border-radius: 10px;
  margin: 10px 0;
  border: 1px solid #00ffff22;
}

  </style>
</head>
<body>
  <div class="title-bar">
    <a href="setting.html" style="text-decoration: none; color: #00ffff; font-size: 22px;">„Éü</a>
    <div class="title-text">Burme Ai</div>
    <img src="assets/icon.jpg" alt="icon" width="30" height="30" style="border-radius: 50%;" />
  </div>  <div class="search-bar">
    <input type="text" id="searchInput" placeholder="Search..." />
    <select id="searchType">
      <option value="google">Google</option>
      <option value="youtube">YouTube</option>
      <option value="pinterest">Pinterest</option>
      <option value="html">HTML Site</option>
    </select>
    <button class="icon-button" onclick="runSearch()">üîç</button>
  </div>  <div class="chat-container" id="chatContainer"></div>  <div class="input-bar">
    <div class="input-row">
      <textarea id="userInput" rows="2" placeholder="Type your message..."></textarea>
      <button class="icon-button" onclick="sendMessage()">·ê∑</button>
    </div>
    <div class="input-row">
      <input type="file" id="imageUpload" accept="image/*" onchange="uploadImage(event)" />
      <input type="file" id="folderUpload" webkitdirectory directory multiple onchange="uploadFolder(event)" />
      <input type="text" id="urlInput" placeholder="Paste link here" style="flex:1; padding: 6px; border-radius: 6px;" />
      <button class="icon-button" onclick="uploadLink()">Upload Link</button>
    </div>
  </div>  <script src="js/gemini.js"></script>  <script>
    async function sendMessage() {
      const input = document.getElementById('userInput');
      const text = input.value.trim();
      if (!text) return;

      addMessage(text, 'user');
      input.value = '';

      const loader = addMessage('‚è≥ Thinking...', 'bot loading');
      const reply = await generateGeminiReply(text, 'text');
      loader.innerText = reply;
      loader.classList.remove('loading');
    }

    function addMessage(text, sender) {
      const container = document.getElementById('chatContainer');
      const msg = document.createElement('div');
      msg.className = `chat-message ${sender}`;
      msg.innerText = text;
      container.appendChild(msg);
      container.scrollTop = container.scrollHeight;
      return msg;
    }

    async function uploadImage(event) {
      const file = event.target.files[0];
      if (!file) return;
      const prompt = `Generate image based on file: ${file.name}`;
      const imgUrl = await generateGeminiReply(prompt, 'image');
      addImageMessage(imgUrl);
    }

    function addImageMessage(url) {
      const container = document.getElementById('chatContainer');
      const img = document.createElement('img');
      img.src = url;
      img.className = 'generated-image chat-message bot';
      container.appendChild(img);
      container.scrollTop = container.scrollHeight;
    }

    function uploadFolder(event) {
      const files = event.target.files;
      addMessage(`üìÅ Folder uploaded with ${files.length} files.`, 'user');
    }

    function uploadLink() {
      const link = document.getElementById('urlInput').value;
      if (link) {
        addMessage(`üîó Link uploaded: ${link}`, 'user');
      }
    }

    function runSearch() {
      const query = document.getElementById('searchInput').value;
      const type = document.getElementById('searchType').value;
      if (!query) return;
      let url = '';
      switch (type) {
        case 'google': url = `https://www.google.com/search?q=${encodeURIComponent(query)}`; break;
        case 'youtube': url = `https://www.youtube.com/results?search_query=${encodeURIComponent(query)}`; break;
        case 'pinterest': url = `https://www.pinterest.com/search/pins/?q=${encodeURIComponent(query)}`; break;
        case 'html': url = query.startsWith('http') ? query : `https://${query}`; break;
      }
      window.open(url, '_blank');
    }
  </script>  <script src="js/ui.js"></script></body>
</html>
